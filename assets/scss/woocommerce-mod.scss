// ---------------------------------------------------
// Compass
@import "compass/css3/border-radius";
@import "compass/css3/box-shadow";
@import "compass/css3/box-sizing";

// ---------------------------------------------------
// Susy + Breakpoint
@import "plugins/susy";
@import "plugins/breakpoint";

// ---------------------------------------------------
// Settings
@import "theme/functions";
@import "theme/variables";
@import "theme/mixins";

// ---------------------------------------------------
// Modules
@import "theme/modules/buttons";

/* ==========================================================================
	 Woocommerce
	 ========================================================================== */

// Place SKU below price
div.product-meta {
	margin: 8px 0;
}

div.product-description {
	color: #b0b0b0;
	p {
		margin: 0 0 10px;
	}
}

.woocommerce,
.woocommerce-page {
	
	// Products List
	// ------------------------------
	ul.products {
		@include reset-list();
		
		li.product {
			@include woocommerce-product(
				$border: 1px solid #ddd,
				$padding: 10px,
				$margin: 20px,
				$height: 360px,
				$trans: false
			);
			
			margin-right: 3.8%;
			width: 30.8%;

			&:nth-child(3n) {
				margin-right: 0;
			}

			a {
				img {
					box-shadow: none;
					display: block;
					margin: 0 auto 8px;
					height: 150px;
					width: auto;					
				}

				&:hover {
					img {
						box-shadow: none;
					}
				}
			}

			h3 {
				color: $base-font-color;
				font-size: $base-font-size;
				font-weight: 400;
				margin: 0;
				padding: 0 0 8px;
			}

			.price {
				color: $color-0;
				display: block;
				font-size: 16px;
				font-weight: 700;
				margin-bottom: 8px;

				del {
					color: rgba($color-0, .5);
					font-size: 16px;
					display: block;
				}
				
				ins {
					display: block;
					text-decoration: none;
				}
				
			}

			.star-rating {
				display: none;
			}

			.add_to_cart_button {
				// @extend .button;
				color: #000;
				background: transparent;
				box-shadow: none;
				border: 0;
				font-weight: 400;
				padding: 0;
				margin: 0;
				text-shadow: none;
				text-transform: lowercase;
				
				&:hover {
					color: $color-0;
				}
			}
			
			.onsale {
				top: 0;
				right: 0;
				left: auto;
				margin: 0;
			}

			.home & {
				clear: none;
				margin-right: 3.8%;
				width: 22.05%;

				&:nth-child(4n) {
					margin-right: 0;
				}
			}

		}

		li.first {
			clear: none;
		}

	}

	// On Sale Products
	// ------------------------------
	span.onsale {
		background: #ddd;
		background-image: none;
		border-radius: 0;
		box-shadow: none;
		min-width: 0;
		min-height: 0;
		line-height: 1;
		padding: 4px 5px;
		text-shadow: none;
	}
	
	// Related, Up Sells and Cross Sells
	// ------------------------------
	div.related.products,
	div.upsells.products,
	div.cross-sells, {
		clear: both;

		h2 {
			font-size: $h3;
			font-weight: 700;
			margin: 0 0 15px;
		}

	}
	
	.related.products,
	.upsells.products {
		ul.products {
			li.product {
				margin-right: 3.8%;
				width: 30.8%;
				&:nth-child(3n) {
					margin-right: 0;
				}
			}
		}
	}

	.cart-collaterals {
		.cross-sells {
			li.product {
				margin-right: 3.8%;
				width: 48.1%;
				&:nth-child(2n) {
					margin-right: 0;
				}
			}
		}
	}
	
	// Products
	// ------------------------------
	div.product,
	#content div.product {

		// Single Images
		// ------------------------------ 
		div.images {
			width: 36%;
			img {
				border: 1px solid #eee;
				box-shadow: none;
			}
		}

		div.summary {
			width: 60%;
		}

		// WC Tabs
		// ------------------------------
		.woocommerce-tabs {

			ul.tabs {
				border: 0;
				margin: 0;
				padding: 0;
				
				&:before {
					border-bottom: 0;
				}

				li {
					background: #eee;
					border: 1px solid #ccc;
					border-bottom: 0;
					border-radius: 0;
					box-shadow: none;
					display: inline-block;
					margin: 0;
					
					&.active {
						background: #fff;
					}

					&:before {
						left: 0;
						border-bottom-right-radius: 0;
						border-width: 0;
						box-shadow: none;
					}

					&:after {
						border: 0;
						bottom: 0;
						width: 0;
						height: 0;
					}
				}
			}

			.panel {
				border: 1px solid #ccc;
				margin: 0 0 2em;
				padding: $padding;
			}
		}

		p.price,
		span.price {
			color: $color-0;
			font-size: 18px;
			font-weight: bold;
			margin: 15px 0;
			padding: 0;

			del {
				color: rgba($color-0, .5);
				font-size: 18px;
			}

			ins {
				text-decoration: none;
			}
		}

		div.summary {
			p.price,
			span.price {
				font-size: 24px;
				del {
					font-size: 24px;
				}
			}
		}

		form.cart {
			margin-top: 1em;
			margin-bottom: 1em;

			.button {
				background: $color-0;
				background-image: none;
				font-size: 1em;
				margin: 0;
				padding: 1em;
				text-shadow: none;

				&:hover {
					background: darken($color-0, 5%);
				}
			}

			div.quantity {
				margin: 0 10px 0 0;
				width: 125px;
			}

		}

		p.stock {
			font-size: $h4;
		}

		div.thumbnails {
			a {
				margin-bottom: 3.8%;
			}
		}

	} // div.product (end)
	
	// WC Buttons
	// ------------------------------
	
	// Added to Cart
	a.added_to_cart {
		display: none;
	}

	a.button,
	button.button,
	input.button,
	#respond input#submit,
	#content input.button {
		@extend .button;

		&:hover {
			background: darken($color-0, 5%);
			color: #fff;
		}

		&.added:before {
			top: 0;
			color: #111;
			right: -24px;
			text-shadow: none;
		}

		&.loading:before {
			border-radius: 4px;
		}

		&.alt {
			background: $color-0;
			background: linear-gradient(left top, left bottom, #fe4304, #ce3501);
			border-color: $color-0;
			color: #ffffff;
		}

	}

	// Quanity Input
	.quantity,
	#content .quantity {
		.minus,
		.plus {
			background: #f0f0f0;
			border-right: 0;
			border-radius: 0;
			box-shadow: none;
			height: 40px;		
			float: left;
			position: static;
			top: 15px;
			width: 40px;

			&:hover {
				background: darken(#f0f0f0, 5%);
				background-image: none;
			}
		}

		.plus {
			border-bottom: 1px solid #c7c0c7;
			border-right: 1px solid #c7c0c7;
			border-left: 0;
		}

		input.qty {
			width: 40px;
			height: 40px;
			border-right: 1px solid #c7c0c7;
		}
	}

	.cart_item {
		.quantity {
			margin: 0 !important;
			width: 80px !important;
			.minus,
			.plus {
				height: 20px !important;
				width: 20px !important;
			}

			input.qty {
				width: 30px !important;
				height: 20px !important;
			}
		}
	}

	.woocommerce-error,
	.woocommerce-info,
	.woocommerce-message {
		background: #f9f9f9;
		background-image: none;
		box-shadow: none;
		border-radius: 0;
		border: {
			left: 1px solid #ddd;
			right: 1px solid #ddd;
			bottom: 1px solid #ddd;
		}

		&:before {
			height: auto;
		}

	}

	// WC Widgets
	// ------------------------------
	ul.cart_list li,
	ul.product_list_widget li {
		ins {
			text-decoration: none;
		}
	}
		
	// Cart Variation P
	// ------------------------------
	td.product-name {
		dl.variation {
			dd p:last-child {
				margin: 0;
			}
		}
	}


} // .woocommerce (end)



// WC Heading Tabs Panel
// ------------------------------
div.cart_totals h2,
form.shipping_calculator h2,
form.checkout h3 {
	font-size: 18px;
	margin: 0 0 10px;
}

// Product Variable
// ------------------------------
div.single_variation {
	margin-bottom: 10px; 
}

// Homepage Woocommerce Featured / Latest Products
// ------------------------------------------------
// .home {
// 	.woocommerce,
// 	.woocommerce-page {
// 		ul.products {
// 			li.product {
// 				clear: none;
// 				margin-right: 3.8%;
// 				width: 22.05%;
// 			}
// 		}
// 	}
// }

/*
 * Large Devices 992px
 */
@include susy-breakpoint($desktop-and-below, $desktop-layout) {

	.woocommerce,
	.woocommerce-page {
		
		ul.products {
			li.product {
				margin-right: 3.8%;
				width: 48.1%;

				&:nth-child(3n) {
					margin-right: 3.8%;
				}

				&:nth-child(2n) {
					margin-right: 0;
				}

				.home & {
					margin-right: 3.8%;
					width: 22.15%;

					&:nth-child(4n) {
						margin-right: 0;
					}
				}

			}
		}

		.related.products,
		.upsells.products {
			ul.products {
				li.product {
					margin-right: 3.8%;
					float: left;
					width: 48.1%;
					&:nth-child(3n) {
						margin-right: 3.8%;
					}
					&:nth-child(2n) {
						margin-right: 0;
					}
				}
			}
		}

	}

}

/*
 * Medium Mobile Devices 768px
 */
@include susy-breakpoint($tablet-and-below, $tablet-layout) {
	
	.woocommerce,
	.woocommerce-page {
		
		// WC Products List
		// ------------------------------
		ul.products {
			li.product {
				float: none;
				margin: 0 auto $padding;
				width: 48.1%;

				&:nth-child(3n),
				&:nth-child(2n) {
					float: none;
					margin: 0 auto $padding;
				}

				.home & {
					margin-right: 3.8%;
					float: left;
					width: 48.1%;

					&:nth-child(2n) {
						margin-right: 0;
					}
				}
			}
		}

		.related.products,
		.upsells.products {
			ul.products {
				li.product {
					margin: 0 auto $padding;
					float: none;
					width: 48.1%;
					&:nth-child(3n),
					&:nth-child(2n) {
						margin: 0 auto $padding;
					}
				}
			}
		}
		
		div.product,
		#content div.product {
			div.images,
			div.summary {
				float: none;
				margin-right: 0;
				width: 100%;
			}
		}
	}

}