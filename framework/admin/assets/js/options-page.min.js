jQuery(document).ready(function(t){"use strict";var n={init:function(){n.extras(),n.stickyActions()},settingsChange:function(){t("input, select, textarea").on("change",function(){t("#anva-framework-change").show(400)})},extras:function(){var a=t("#code_editor_mode").val(),e=document.querySelector(".anva-code-editor");CodeMirror.fromTextArea(e,{mode:a,theme:"mdn-like",lineNumbers:!0});t(document).on("click",".reset-button",function(n){n.preventDefault();var a=t(this).closest("form");swal({title:anvaJs.save_button_title,text:anvaJs.save_button_text,type:"warning",showCancelButton:!0,confirmButtonColor:"#0085ba",confirmButtonText:anvaJs.save_button_confirm,cancelButtonText:anvaJs.save_button_cancel,cancelButtonColor:"#f7f7f7",closeOnConfirm:!0,closeOnCancel:!0},function(t){t&&(a.append('<input type="hidden" name="reset" value="true" />'),a.submit())})}),t(document).on("click",".import-button",function(n){n.preventDefault();var a=t(this).closest("form");return""===t("#section-import_settings textarea").val()?(swal({title:anvaJs.import_empty_title,text:anvaJs.import_empty_text,type:"info",showConfirmButton:!0,confirmButtonColor:"#0085ba"}),!1):void swal({title:anvaJs.import_button_title,text:anvaJs.import_button_text,type:"warning",showCancelButton:!0,confirmButtonColor:"#0085ba",confirmButtonText:anvaJs.import_button_confirm,cancelButtonText:anvaJs.import_button_cancel,cancelButtonColor:"#f7f7f7",closeOnConfirm:!0,closeOnCancel:!0},function(t){t&&(a.append('<input type="hidden" name="import" value="true" />'),a.submit())})}),t(".animsition").animsition({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(t){window.location.href=t}}),t("#anva-framework-submit input.button-primary").click(function(){t(this).val(anvaJs.save_button),t("#anva-framework-submit .spinner").addClass("is-active")}),t(".inner-group > h3").on("click",function(n){n.preventDefault();var a=t(this),e=a.closest(".postbox");e.hasClass("collapse-close")?(e.removeClass("collapse-close"),"undefined"!=typeof localStorage&&localStorage.removeItem("anva-section-"+e.attr("id")),e.find(".section-css").each(function(){var n=t(this).find("textarea").data("CodeMirrorInstance");n&&n.refresh()})):(e.addClass("collapse-close"),"undefined"!=typeof localStorage&&localStorage.setItem("anva-section-"+e.attr("id"),!0))}),t("#anva-framework .postbox").each(function(){var n=t(this);"undefined"!=typeof localStorage&&localStorage.getItem("anva-section-"+n.attr("id"))&&n.addClass("collapse-close")}),t(".nav-tab-wrapper").length>0&&n.tabs()},tabs:function(){var n=t(".group"),a=t(".nav-tab-wrapper a"),e="";n.hide(),"undefined"!=typeof localStorage&&(e=localStorage.getItem("active_tab")),""!==e&&t(e).length?(t(e).fadeIn(),t(e+"-tab").addClass("nav-tab-active")):(t(".group:first").fadeIn(),t(".nav-tab-wrapper a:first").addClass("nav-tab-active")),a.click(function(e){e.preventDefault(),a.removeClass("nav-tab-active"),t(this).addClass("nav-tab-active").blur(),"undefined"!=typeof localStorage&&localStorage.setItem("active_tab",t(this).attr("href"));var o=t(this).attr("href");t(".wp-editor-wrap").each(function(){var n=t(this).find("iframe");n.height()<30&&n.css({height:"auto"})}),n.hide(),t(o).fadeIn()})},stickyActions:function(){var n=t("#anva-framework .options-settings > .columns-2"),a=t("#anva-framework .postbox-wrapper");t(window).scrollTop()>115?(n.css({position:"absolute",top:0,right:0,"z-index":99}),a.css({position:"fixed",top:"40px"})):(n.css({position:"static"}),a.css({position:"static"}))}};n.init(),t(window).scroll(function(){n.stickyActions()})});
