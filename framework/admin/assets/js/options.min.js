jQuery(document).ready(function(t){"use strict";var n,a={settings:{template:t("#page_template"),grid:t("#meta-grid_column"),sidebar:t("#meta-sidebar_layout"),optionName:t("#option_name").val()},init:function(){n=this.settings,a.extras(),a.stickyActions(),a.sections.init()},extras:function(){t(".anva-input-label").each(function(){var n=t(this),a=n.find("select").val(),e=n.find('option[value="'+a+'"]').text();n.prepend("<span>"+e+"</span>")}),t(".anva-input-label select").live("change",function(){var n=t(this),a=n.val(),e=n.find('option[value="'+a+'"]').text();n.closest(".anva-input-label").find("span").text(e)}),t(document).on("click",".reset-button",function(n){n.preventDefault();var a=t(this).closest("form");swal({title:anvaJs.save_button_title,text:anvaJs.save_button_text,type:"warning",showCancelButton:!0,confirmButtonColor:"#0085ba",confirmButtonText:anvaJs.save_button_confirm,cancelButtonText:anvaJs.save_button_cancel,cancelButtonColor:"#f7f7f7",closeOnConfirm:!0,closeOnCancel:!0},function(t){t&&(a.append('<input type="hidden" name="reset" value="true" />'),a.submit())})}),t(".dynamic-sidebars ul").sortable(),t(".dynamic-sidebars ul").disableSelection(),t(document).on("click",".dynamic-sidebars .delete",function(n){n.preventDefault();var a=t(this).parent();swal({title:anvaJs.sidebar_button_title,text:anvaJs.sidebar_button_text,type:"warning",showCancelButton:!0,confirmButtonColor:"#0085ba",confirmButtonText:anvaJs.confirm,cancelButtonText:anvaJs.cancel,cancelButtonColor:"##f7f7f7",closeOnConfirm:!0,closeOnCancel:!0},function(n){n&&(a.fadeOut(),setTimeout(function(){a.remove(),0==t(".dynamic-sidebars ul li").length&&t(".dynamic-sidebars ul").addClass("empty")},500))})}),t("#add-sidebar").click(function(){var a=t(".sidebar").val();if(""==a)return swal(anvaJs.sidebar_error_title,anvaJs.sidebar_error_text),!1;t(".dynamic-sidebars ul").removeClass("empty");var e=t("#dynamic_sidebar_name").val(),i=n.optionName;t(".dynamic-sidebars ul").append("<li>"+a+' <a href="#" class="delete">'+anvaJs["delete"]+'</a> <input type="hidden" name="'+i+"["+e+'][]" value="'+a+'" /></li>'),t(".sidebar").val("")}),t(".dynamic-contact-fields ul.contact-fields").sortable(),t(".dynamic-contact-fields ul.contact-fields").disableSelection(),t(document).on("click",".dynamic-contact-fields .delete",function(n){n.preventDefault();var a=t(this).parent();swal({title:anvaJs.contact_button_title,text:anvaJs.contact_button_text,type:"warning",showCancelButton:!0,confirmButtonColor:"#0085ba",confirmButtonText:anvaJs.confirm,cancelButtonText:anvaJs.cancel,cancelButtonColor:"##f7f7f7",closeOnConfirm:!0,closeOnCancel:!0},function(n){n&&(a.fadeOut(),setTimeout(function(){a.remove(),0==t(".dynamic-contact-fields ul li").length&&t(".dynamic-contact-fields ul").addClass("empty")},500))})}),t(document).on("click","#add-contact-field",function(){var a=t("#contact_fields option:selected").text(),e=t("#contact_fields option:selected").val();if(""==a)return swal(anvaJs.contact_error_title,anvaJs.contact_error_text),!1;if(t(".dynamic-contact-fields ul.contact-fields").children("#field-"+e).length>0)return swal(anvaJs.contact_exists_title,anvaJs.contact_exists_text+' "'+a+'".'),!1;t(".dynamic-contact-fields ul").removeClass("empty");var i=t("#contact_field_name").val(),o=n.optionName;t(".dynamic-contact-fields ul").append('<li id="field-'+e+'">'+a+' <a href="#" class="delete">'+anvaJs["delete"]+'</a> <input type="hidden" name="'+o+"["+i+'][]" value="'+e+'" /></li>'),t(".sidebar").val("")}),t(".animsition").animsition({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(t){window.location.href=t}}),t("#anva-framework-submit input.button-primary").click(function(){t(this).val(anvaJs.save_button),t("#anva-framework-submit .spinner").addClass("is-active")}),t(".inner-group > h3").on("click",function(n){n.preventDefault();t(this).parent().toggleClass("collapse-close")});var e=t("#anva-framework-wrap .settings-error");e.length>0&&setTimeout(function(){e.fadeOut(500)},3e3),t(".nav-tab-wrapper").length>0&&a.tabs()},tabs:function(){var n=t(".group"),a=t(".nav-tab-wrapper a"),e="";n.hide(),"undefined"!=typeof localStorage&&(e=localStorage.getItem("active_tab")),""!=e&&t(e).length?(t(e).fadeIn(),t(e+"-tab").addClass("nav-tab-active")):(t(".group:first").fadeIn(),t(".nav-tab-wrapper a:first").addClass("nav-tab-active")),a.click(function(e){e.preventDefault(),a.removeClass("nav-tab-active"),t(this).addClass("nav-tab-active").blur(),"undefined"!=typeof localStorage&&localStorage.setItem("active_tab",t(this).attr("href"));var i=t(this).attr("href");t(".wp-editor-wrap").each(function(){var n=t(this).find("iframe");n.height()<30&&n.css({height:"auto"})}),n.hide(),t(i).fadeIn()})},stickyActions:function(){var n=t("#anva-framework .options-settings > .columns-2"),a=t("#anva-framework .postbox-wrapper");t(window).scrollTop()>115?(n.css({position:"absolute",top:0,right:0,"z-index":99}),a.css({position:"fixed",top:"40px"})):(n.css({position:"static"}),a.css({position:"static"}))}};a.sections={init:function(){a.sections.colorPicker(),a.sections.radioImages(),a.sections.logo(),a.sections.typography(),a.sections.socialMedia(),a.sections.columns(),a.sections.slider(),a.sections.rangeSlider()},colorPicker:function(){t(".anva-color").wpColorPicker()},radioImages:function(){t(".anva-radio-img-box").click(function(){t(this).closest(".section-images").find(".anva-radio-img-box").removeClass("anva-radio-img-selected"),t(this).addClass("anva-radio-img-selected"),t(this).find(".anva-radio-img-radio").prop("checked",!0)}),t(".anva-radio-img-img").show()},logo:function(){t(".section-logo").each(function(){var n=t(this),a=n.find(".select-type select").val();n.find(".logo-item").hide(),n.find("."+a).show()}),t(".section-logo .anva-select select").on("change",function(){var n=t(this),a=n.closest(".section-logo"),e=n.val();a.find(".logo-item").hide(),a.find("."+e).show()})},typography:function(){t(".section-typography .anva-typography-face").each(function(){var n=t(this),a=n.val(),e=n.find('option[value="'+a+'"]').text();"google"==a?(n.closest(".section-typography").find(".google-font").fadeIn("fast"),e="Arial"):n.closest(".section-typography").find(".google-font").hide(),n.closest(".section-typography").find(".sample-text-font").css("font-family",e)}),t(".section-typography .anva-typography-face").on("change",function(){var n=t(this),a=n.val(),e=n.find('option[value="'+a+'"]').text();"google"==a?(e="Arial",n.closest(".section-typography").find(".google-font").fadeIn("fast")):n.closest(".section-typography").find(".google-font").hide(),n.closest(".section-typography").find(".sample-text-font").css("font-family",e)})},socialMedia:function(){t(".section-social_media").each(function(){var n=t(this);n.find(".social_media-input").hide(),n.find(".checkbox").each(function(){var n=t(this);n.is(":checked")?n.closest(".item").addClass("active").find(".social_media-input").show():n.closest(".item").removeClass("active").find(".social_media-input").hide()})}),t(".section-social_media .checkbox").on("click",function(){var n=t(this);n.is(":checked")?n.closest(".item").addClass("active").find(".social_media-input").fadeIn("fast"):n.closest(".item").removeClass("active").find(".social_media-input").hide()})},columns:function(){t(".section-columns").each(function(){var n=t(this),a=n.find(".column-num").val();n.find(".column-width").hide(),n.find(".column-width-"+a).show()}),t(".section-columns .column-num").on("change",function(){var n=t(this),a=n.val(),e=n.closest(".section-columns");e.find(".column-width").hide(),e.find(".column-width-"+a).fadeIn("fast")})},slider:function(){t(".group-slider").each(function(){var n=t(this),a=n.find("#slider_id").val();n.find(".slider-item").hide(),n.find("."+a).show()}),t(".group-slider #slider_id").on("change",function(){var n=t(this),a=n.closest(".group-slider"),e=n.val();a.find(".slider-item").hide(),a.find("."+e).show()})},rangeSlider:function(){t(".section-range").each(function(){var n=t(this),a=n.find(".anva-input-range").val(),e=n.find(".anva-input-range").attr("id"),i=n.find(".anva-input-range").data("min"),o=n.find(".anva-input-range").data("max"),s=n.find(".anva-input-range").data("step");t("#"+e+"_range").slider({min:i,max:o,step:s,value:a,slide:function(n,a){t("#"+e).val(a.value)}}),t("#"+e).val(t("#"+e+"_range").slider("value")),t("#"+e+"_range").slider("pips"),t("#"+e+"_range").slider("float",{pips:!0})})}},a.init(),t(window).scroll(function(){a.stickyActions()})});
