jQuery(document).ready(function(t){var e,i={thumb_ul:"",thumb_ul_li:"",init:function(){this.thumb_ul=t("#anva_gallery_thumbs"),this.thumb_ul_li=t("#anva_gallery_thumbs li"),this.thumb_ul.length>0&&this.thumb_ul.sortable({placeholder:"anva_gallery_placeholder"}),this.thumb_ul.on("click",".anva_gallery_remove",function(){return t(this).parent().fadeOut(100,function(){t(this).remove()}),setTimeout(function(){i.emptyGallery()},500),!1}),t("#anva_gallery_upload_button").on("click",function(a){return a.preventDefault(),e?void e.open():(e=wp.media.frames.file_frame=wp.media({title:t(this).data("uploader_title"),button:{text:t(this).data("uploader_button_text")},multiple:!0}),e.on("select",function(){for(var t=e.state().get("selection").toJSON(),a=t.length,n=0;a>n;n++)i.getThumbnail(t[n].id)}),void e.open())}),t("#anva_gallery_remove_all_buttons").on("click",function(){return 0==t("#anva_gallery_thumbs li").length?void alert(ANVA.gallery_empty):(confirm(ANVA.gallery_confirm)&&i.thumb_ul.empty(),i.emptyGallery(),!1)}),i.emptyGallery()},getThumbnail:function(e,a){a=a||function(){};var n={action:"anva_gallery_get_thumbnail",imageid:e};t("#anva_gallery_spinner").css("display","block"),t.post(ajaxurl,n,function(t){i.thumb_ul.append(t),a()}).done(function(){t("#anva_gallery_spinner").hide()})},emptyGallery:function(){this.thumb_ul=t("#anva_gallery_thumbs"),this.thumb_ul_li=t("#anva_gallery_thumbs li"),0==this.thumb_ul_li.length?(this.thumb_ul.find("span").remove(),this.thumb_ul.append("<span>"+ANVA.gallery_selected+"<span>")):this.thumb_ul.find("span").remove()}};i.init()});
