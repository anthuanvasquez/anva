!function(t){function e(e,i){var n=t.extend({},t.fn.collapsible.defaults,i),a=[];return e.each(function(){var e=t(this);o(e,n),"mouseenter"==n.bind&&e.bind("mouseenter",function(t){t.preventDefault(),c(e,n)}),"mouseover"==n.bind&&e.bind("mouseover",function(t){t.preventDefault(),c(e,n)}),"click"==n.bind&&e.bind("click",function(t){t.preventDefault(),c(e,n)}),"dblclick"==n.bind&&e.bind("dblclick",function(t){t.preventDefault(),c(e,n)});var i=e.attr("id");if(d(n))if(h(n)){var s=m(i,n);s===!1?(e.addClass(n.cssClose),n.loadClose(e,n)):(e.addClass(n.cssOpen),n.loadOpen(e,n),a.push(i))}else r=v(i,n),r===!1?(e.addClass(n.cssClose),n.loadClose(e,n)):(e.addClass(n.cssOpen),n.loadOpen(e,n),a.push(i));else{var r=v(i,n);r===!1?(e.addClass(n.cssClose),n.loadClose(e,n)):(e.addClass(n.cssOpen),n.loadOpen(e,n),a.push(i))}}),a.length>0&&d(n)?p(a.toString(),n):p("",n),e}function i(t){return t.data("collapsible-opts")}function o(t,e){return t.data("collapsible-opts",e)}function n(t,e){return t.hasClass(e.cssClose)}function a(t,e){if(t.addClass(e.cssClose).removeClass(e.cssOpen),e.animateClose(t,e),d(e)){var i=t.attr("id");u(i,e)}}function s(t,e){if(t.removeClass(e.cssClose).addClass(e.cssOpen),e.animateOpen(t,e),d(e)){var i=t.attr("id");f(i,e)}}function c(t,e){return n(t,e)?s(t,e):a(t,e),!1}function r(e,i){t.each(e,function(e,o){n(t(o),i)&&s(t(o),i)})}function l(e,i){t.each(e,function(e,o){n(t(o),i)||a(t(o),i)})}function d(e){return t.cookie&&""!=e.cookieName?!0:!1}function f(e,i){if(!d(i))return!1;if(!h(i))return p(e,i),!0;if(m(e,i))return!0;var o=decodeURIComponent(t.cookie(i.cookieName)),n=o.split(",");return n.push(e),p(n.toString(),i),!0}function u(e,i){if(!d(i))return!1;if(!h(i))return!0;var o=m(e,i);if(o===!1)return!0;var n=decodeURIComponent(t.cookie(i.cookieName)),a=n.split(",");return a.splice(o,1),p(a.toString(),i),!0}function p(e,i){return d(i)?(t.cookie(i.cookieName,e,i.cookieOptions),!0):!1}function m(e,i){if(!d(i))return!1;if(!h(i))return!1;var o=decodeURIComponent(t.cookie(i.cookieName)),n=o.split(","),a=t.inArray(e,n);return-1==a?!1:a}function h(e){return d(e)?null===t.cookie(e.cookieName)?!1:!0:!1}function v(e,i){var o=g(i),n=t.inArray(e,o);return-1==n?!1:n}function g(t){var e=[];return""!=t.defaultOpen&&(e=t.defaultOpen.split(",")),e}t.fn.collapsible=function(e,i){return!this||this.length<1?this:"string"==typeof e?t.fn.collapsible.dispatcher[e](this,i):t.fn.collapsible.dispatcher._create(this,e)},t.fn.collapsible.dispatcher={_create:function(t,i){e(t,i)},toggle:function(t){return c(t,i(t)),t},open:function(t){return s(t,i(t)),t},close:function(t){return a(t,i(t)),t},collapsed:function(t){return n(t,i(t))},openAll:function(t){return r(t,i(t))},closeAll:function(t){return l(t,i(t))}},t.fn.collapsible.defaults={cssClose:"collapse-close",cssOpen:"collapse-open",cookieName:"collapsible",cookieOptions:{path:"/",expires:7,domain:"",secure:""},defaultOpen:"",speed:"slow",bind:"click",animateOpen:function(t,e){t.next().stop(!0,!0).slideDown(e.speed)},animateClose:function(t,e){t.next().stop(!0,!0).slideUp(e.speed)},loadOpen:function(t,e){t.next().show()},loadClose:function(t,e){t.next().hide()}}}(jQuery);
