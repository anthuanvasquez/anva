jQuery(document).ready(function(e){function t(t,l){var o=(e(".uploaded-file"),e(this));i=l,t.preventDefault(),n?n.open():(n=wp.media.frames.optionsframework_upload=wp.media({title:o.data("choose"),button:{text:o.data("update"),close:!1}}),n.on("select",function(){var t=n.state().get("selection").first();n.close(),i.find(".upload").val(t.attributes.url),"image"==t.attributes.type&&i.find(".screenshot").empty().hide().append('<img src="'+t.attributes.url+'"><a class="remove-image">Remove</a>').slideDown("fast"),i.find(".upload-button").unbind().addClass("remove-file").removeClass("upload-button").val(optionsframework_l10n.remove),i.find(".anva-background-properties").slideDown(),i.find(".remove-image, .remove-file").on("click",function(){a(e(this).parents(".section"))})})),n.open()}function a(a){a.find(".remove-image").hide(),a.find(".upload").val(""),a.find(".anva-background-properties").hide(),a.find(".screenshot").slideUp(),a.find(".remove-file").unbind().addClass("upload-button").removeClass("remove-file").val(optionsframework_l10n.upload),e(".section-upload .upload-notice").length>0&&e(".upload-button").remove(),a.find(".upload-button").on("click",function(a){t(a,e(this).closest(".section-upload"))})}var n,i;e(".remove-image, .remove-file").on("click",function(){a(e(this).closest(".section-upload"))}),e(".upload-button").click(function(a){t(a,e(this).closest(".section-upload"))})});
