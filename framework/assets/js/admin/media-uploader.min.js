jQuery(document).ready(function(t){function e(e,r){var l=(t(".uploaded-file"),t(this));n=r,e.preventDefault(),a?a.open():(a=wp.media.frames.optionsframework_upload=wp.media({title:l.data("choose"),button:{text:l.data("update"),close:!1}}),a.on("select",function(){var e=a.state().get("selection").first();a.close(),n.find(".upload").val(e.attributes.url),"image"==e.attributes.type&&n.find(".screenshot").empty().hide().append('<img src="'+e.attributes.url+'"><a class="remove-image">Remove</a>').slideDown("fast"),n.find(".upload-button").unbind().addClass("remove-file").removeClass("upload-button").val(optionsframework_l10n.remove),n.find(".anva-background-properties").slideDown(),n.find(".remove-image, .remove-file").on("click",function(){i(t(this).parents(".section"))})})),a.open()}function i(i){i.find(".remove-image").hide(),i.find(".upload").val(""),i.find(".anva-background-properties").hide(),i.find(".screenshot").slideUp(),i.find(".remove-file").unbind().addClass("upload-button").removeClass("remove-file").val(optionsframework_l10n.upload),t(".section-upload .upload-notice").length>0&&t(".upload-button").remove(),i.find(".upload-button").on("click",function(i){e(i,t(this).closest(".section-upload"))})}var a,n;t(".remove-image, .remove-file").on("click",function(){i(t(this).closest(".section-upload"))}),t(".upload-button").click(function(i){e(i,t(this).closest(".section-upload"))})});
